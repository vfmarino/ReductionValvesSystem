<div class="container">
  <div class="data">
    <div class="form">
      <form>
        <div class="formulario">
          <img src="../../assets/img/logo.png" />

          <h2>Informações Gerais</h2>

          <div class="dadosCliente">
            <div class="container1">
              <label for="">Nro:</label>
              <input type="text" name="nro" [(ngModel)]="nro" required />
            </div>

            <div class="container1">
              <label for="">Cliente:</label>
              <input
                type="text"
                name="cliente"
                [(ngModel)]="cliente"
                required
              />
            </div>

            <div class="container1">
              <label for="">Data:</label>
              <input type="data" name="data" [(ngModel)]="data" required />
            </div>

            <div class="container1">
              <label for="">Elaborado por:</label>
              <select name="vendedor" [(ngModel)]="vendedor">
                <option value="">Selecionar</option>
                <option value="">Victor</option>
                <option value="">Rafael</option>
                <option value="">Felipe</option>
              </select>
            </div>
          </div>

          <div class="dadosProcesso">
            <h2>Dados de Processo</h2>

            <div class="container1">
              <label for="">Fluido:</label>
              <select name="fluido" [(ngModel)]="fluido">
                <option value="">Selecionar Material</option>
                <option value="">Vapor</option>
              </select>
            </div>

            <div class="container1">
              <label for="">Vazão:</label>
              <input type="text" name="vazao" [(ngModel)]="vazao" required />
            </div>

            <div class="container1">
              <label for="">Pressão de Entrada:</label>
              <input
                type="text"
                name="entrada"
                [(ngModel)]="entrada"
                required
              />
            </div>

            <div class="container1">
              <label for="">Pressão de Saída:</label>
              <input type="text" name="saida" [(ngModel)]="saida" required />
            </div>

            <div class="container1">
              <label for="">Material:</label>
              <select name="material" [(ngModel)]="material">
                <option value="">Selecionar</option>
                <option value="">Ferro</option>
                <option value="">Aço Carbono</option>
              </select>
            </div>

            <div class="container1">
              <label for="">Conexão:</label>
              <select name="conexao" [(ngModel)]="conexao">
                <option value="">Selecionar</option>
                <option value="">NPT</option>
                <option value="">BSPT</option>
                <option value="">FLANGE</option>
              </select>
            </div>
          </div>
        </div>
      </form>
    </div>

    <div class="calcular">
      <button (click)="calculate()">Calcular</button>
    </div>
  </div>

  <div class="result1">
    <table>
      <tr>
        <th>Index</th>
        <th>Diametro</th>
        <th>Porcentagem</th>
      </tr>
      <tr *ngFor="let item of porcentagens; let i = index">
        <td>{{ i }}</td>
        <td>{{ item[0] }}</td>
        <td
          [ngClass]="{
            tableFundoVermelho: item[1] < 20 || item[1] > 80,
            tableFundoVerde: item[1] >= 20 && item[1] <= 80
          }"
        >
          {{ item[1] | number : ".3" }}%
        </td>
      </tr>
    </table>
  </div>
  <div
    [ngClass]="{
      tableFundoVermelho:
        porcentagens[result.fator][1] < 20 ||
        porcentagens[result.fator][1] > 80,
      tableFundoVerde:
        porcentagens[result.fator][1] >= 20 &&
        porcentagens[result.fator][1] <= 80
    }"
  >
    <label for="">Fator</label>
    <input
      type="number"
      min="0"
      max="18"
      step="1"
      inputmode="numeric"
      name="factor"
      [(ngModel)]="result.fator"
    />
    {{ porcentagens[result.fator][0] }}
    {{ porcentagens[result.fator][1] | number : "1.2-2" }}%
  </div>
</div>
